## 함수형 프로그래밍

- 절차지향적 프로그래밍과 같은 프로그래밍 패러다임중 하나

![image](https://user-images.githubusercontent.com/44665707/165663813-421b9862-782b-438f-842f-2da569004bbc.png)

- 객체지향 프로그래밍의 경우, 클래스 디자인과 객체들의 관계를 중심으로 코드 작성. 상태, 멤버변수, 메서드 등이 긴밀한 관계를 가짐.
- 함수형 프로그래밍의 경우, 값의 연산 및 결과 도출 중심으로 코드작성 이루어짐. 함수 내부에서 인자로 받은 값을 별도로 저장하거나 하지 않고 간결한 과정으로 처리하고 매핑하는데에 주 목적



## 함수형 프로그래밍의 원칙

1. Pure Functions(= Referantial Transparency) : 순수 함수
2. First Class Citizen : 일급 객체
3. High Order Function : 고차 함수
4. Immutable Data : 불변성
5. Closure
6. Side Effect가 없는 함수

![image](https://user-images.githubusercontent.com/44665707/165664072-e851fdad-18bc-424e-a7aa-1d577f267fd4.png)

### Pure Functions

- 순수 함수는 동일한 input 값에 대해 항상 같은 값을 반환해주는 함수를 의미
- 순수함수 내부에서 전역변수의 값을 사용하거나 변경하면서 발생하는 부작용이 없음

```java
private String food = "치킨";

// 순수함수 아님. 외부의 영향(food)에 따라 함수 return 값이 달라짐. food가 상수가 되면 순수함수
public String eating() { return "Blog Shine eat " + food; }

// 순수함수
public static String eating(String name) { return "Blog Shine eat " + name }
```

- 외부의 영향을 받거나 주지도 않으면서, 항상 동일한 input을 넣엇을 때 항상 같은 값을 반환. 참조 투명성이라고도 부름



### First Class Citizen

- 1등 시민으로서의 함수, 즉 함수형 프로그래밍에서는 함수가 1등 시민
- 함수는 다른 함수의 인자(매개변수)로 전달될 수 있다 -> callback 함수
  - 함수형 인터페이스 정의 및 Lambda class 생성

```java
public intercface MyFunction {
	void myMethod();
}

public class Lambda {
	static void run(MyFunction f) {
		f.myMethod();
	}
}
```

```java
// 이를 활용하는 main
// 함수형 인터페이스로 f 람다식을 받음. 이 f를 lambda.run()의 인자로 넘겨줌
public static void main(String[] args) {
	MyFunction f = () -> System.out.println("전달될 함수 입니다.");
	
	Lambda lambda = new Lambda();
	lambda.run(f);
}
```

- 함수는 다른 함수의 결과로서 반환될 수 있다
- 함수는 변수에 할당될 수 있다

```java
int func1(int x) {
	return 2*x;
}

int func2(int x) {
	return func1(x+4);
}
```



### High Order Function

- 고차 함수는 다른 함수를 인수로 받아들이거나 함수를 리턴하는 함수



### Immutable Data

- 자바에서는 final 키워드 통해 값을 변경하는 할당 방지 가능
- 불변성을 통해 멀티 스레드가 공유하고 있는 하나의 값을 동시에 읽어도 아무런 문제 발생 안함
- 프로그램의 정확성 높여줌



### Closure

- 함수 본문이 인수로 전달될 때, 혹은 함수가 자기 내부에서 정의된 것이 아니라 바깥에서 정의 된 변수(자유변수)를 사용할 때 만들어짐
- 코드를 실행하는 런타임때, 자유변수를 나중에 함수가 실제로 실행할 때 꺼내 사용할 수 있게 만듦
- 자바는 내부 클래스를 통해 클로저의 기능을 제한적으로 지원, 바깥에 있는 변수가 final로 선언됐을 때에 한해서만 사용 가능



### Side Effect가 없는 함수

- 함수가 불변한 특성을 가지기 때문에 함수를 사용하는 입장에서 특별한 부수효과 발생 안함
- 멀티 스레드 환경에서 안정적 사용 가능