## 뮤텍스(Mutex)와 세마포어(Semaphore)란?

- 프로세스 간 메시지 전송, 공유메모리 통한 공유된 자원에 여러 개의 프로세스가 동시 접근하면 Critical Seciton(임계 영역) 문제가 발생할 수 있음
- 이를 해결하기 위해 데이터를 한 번에 하나의 프로세스만 접근할 수 있도록 제한하는 동기화 방식 필요



### 임계 영역(Critical Section)

- 여러 프로세스가 데이터를 공유하며 수행될 때, 각 프로세스에서 공유 데이터를 접근하는 프로그램 코드 블록
- 여러 프로세스가 동일 자원을 동시 참조(공유하는 변수명, 파일이름 등)이 오염될 위험 가능성이 있는 영역 프로그래밍 시, 성능 향상 위해 임계영역을 최소화 하는 설계를 할 것



### 뮤텍스

- 동시 프로그래밍에서 공유 불가능한 자원의 동시 사용을 피하기 위해 사용하는 알고리즘
- 임계구역을 가진 스레드들이 실행시간이 서로 겹치지 않고 각각 단독으로 실행(상호배제)되도록 함
- 한 프로세스에 의해 소유될 수 있는 Key를 기반으로 한 상호배제 기법
- 다중 프로세스들의 공유 리소스에 대한 접근을 조율하기 위해 동기화 또는 락 사용
- 뮤텍스 객체를 두 스레드가 동시 사용 물가능

![6](https://user-images.githubusercontent.com/44665707/150240496-9bc1acf7-de90-4dee-977b-a04382d9f168.PNG)



### 세마포어

- 멀티 프로그래밍 환경에서 공유된 자원에 대한 접근을 제한하는 방법
- 공유 자원에 접근할 수 있는 프로세스의 최대 허용치만큼 동시에 사용자가 접근 가능
- 자원을 사용하지 않는 상태가 될 때, 대기하던 프로세스가 즉시 자원 사용
- 이미 다른 프로세스가 사용중이라면 재시도 전에 일정시간 대기
- 세마포어를 사용하는 프로세스는 그 값을 확인하고, 자원을 사용하는 동안에는 그 값을 변경해 다른 세마포어 사용자들이 대기하도록 함



### 차이점

1. 동기화 대상의 갯수 : 뮤텍스는 동기화 대상이 only 1개, 세마포어는 동기화 대상이 1개 이상일때
2. 세마포어는 뮤텍스가 될수 있지만, 뮤텍스는 세마포어가 될 수 없음
3. 뮤텍스는 소유하고 있는 스레드만이 이 뮤텍스를 해제할 수 있음, 세마포어는 세마포어를 소유하지 않는 스레드가 세마포어 해제 가능
4. 뮤텍스는 자원 소유 가능+책임, 세마포어는 자원 소유 불가
5. 세마포어는 시스템 범위에 걸쳐 있고, 파일 시스템 상의 파일로 존재, 뮤텍스는 프로세스 범위이며 프로세스가 종료 될때 자동으로 사라짐