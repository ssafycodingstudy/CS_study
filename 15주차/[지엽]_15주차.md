# 클린코드/리팩토링

#### 클린코드란 

- 가독성이 높은 코드

- 네이밍이 잘 되어야함

- 오류가 없어야함

- 중복이 없어야함

- 의존성을 줄여야함

- 클래스 혹은 메소드가 한가지 일만 처리 해야함



#### 구현하는 방법

1. 변수 이름 작성하기

2. 의미있게 구분 하라

3. 한 개념에 한 단어만 사용해라

4. 의미있는 맥락을 추가해라



#### 함수 작성하기

- 작게만들어라 - 최대한 작고 간결하게 만들자

- 객체의 상태를 변경한 후 출력하는 함수를 만들지 마라.

- 함수는 하나의 일만 해야한다.

- 반복하지마라

- 파라미터는 없거나 적은게 낫다.



#### 주석작성하기

- 주석은 작성하지 않는 것이 좋다. - 코드를 보고 바로 이해할 수 있는 코드를 구현하자

- Todo 주석을 작성하자. - 오늘 무엇을 했고 내일 무엇을 할지를 기록하자



#### 객체 만들기

- 자료를 추상화하자

- 객체의 구조를 숨겨라



#### 오류처리

- 조건문보단 try catch문을 사용하자.

- 가능하면 try catch 문도 사용하지 않는 경우를 고민하자

- Null 값을 반환하지 마라.



#### 단위 테스트 하기

- 클래스 생성하기

- 클래스 역시 작아야한다. 

- 단일책임 원칙에 따른다.

- 인스턴스 변수가 작아야한다.



#### 리팩토링이란

- 프로그램의 외부동작은 그대로 둔채 내부의 코드를 정리하면서 개선하는 것

- 코드의 가독성을 높이고 유지보수에 큰 도움을 준다

- 소프트웨어를 더 이해하기 쉽고 수정하기 쉽게 만드는 것

#### 리팩토링이 필요한 코드는

1. 중복코드 

2. 긴 메소드

3. 거대한 클래스

4. Switch 문

5. 절차지향형 코드



#### 클린코드와 리팩토링의 차이

리팩토링이 더 넓은 의미를 가짐

리팩토링은 클린코드를 포함한 유지 보수를 위한 코드 개선인 개념이다.



## 시큐어 코딩

안전한 소프트웨어를 개발하기 위해 소스코드에 존재할 수 있는 잠재적 보안약점을 제거 하는 것

#### 대표적인 사례

SQL 인젝션

URL 파라미터 조작

무작위 대입 공격



#### 자바 시큐어 코딩 가이드가 존재

가이드 문서 구성

정보 시스템 개발 시, 고려해야할 보안약점 83개 설명과 보안 대책 이해를 위한 코딩예제 제시

```
[입력데이터 검증 및 표현] 프로그램 입력값에 대한 검증 누락 또는 부적절한 검증, 데이터의 잘못된 
    형식지정으로 인해 발생할 수 있는 보안약점 -* SQL 삽입, 자원 삽입, 크로스사이트 스크립트 등 26개
    
[보안기능] 보안기능(인증, 접근제어, 기밀성, 암호화, 권한관리 등)을 적절하지 않게 구현시 발생할 수 
    있는 보안약점 -* 부적절한 인가, 중요정보 평문 저장(또는 전송) 등 24개
    
[시간 및 상태] 동시 또는 거의 동시 수행을 지원하는 병렬 시스템, 하나 이상의 프로세스가 동작하는 
	환경에서 시간 및 상태를 부적절하게 관리하여 발생할 수 있는 보안약점 -* 경쟁조건, 제어문을 
    사용하지 않는 재귀함수 등 7개
    
[에러 처리] 에러를 처리하지 않거나, 불충분하게 처리하여 에러정보에 중요정보(시스템 등)가 포함될 때
    발생할 수 있는 보안약점 -* 취약한 패스워드 요구조건, 오류메시지를 통한 정보노출 등 4개
    
[코드오류] 타입변환 오류, 자원(메모리 등)의 부적절한 반환 등과 같이 개발자가 범할 수 있는 코딩오류로
    인해 유발되는 보안약점 -* 널 포인터 역참조, 부적절한 자원 해제 등 7개
    
[캡슐화] 중요한 데이터 또는 기능성을 불충분하게 캡슐화하였을 때, 인가되지 않는 사용자에게 데이터 
    누출이 가능해지는 보안약점 -* 제거되지 않고 남은 디버그 코드, 시스템 데이터 정보노출 등 8개
    
[API 오용] 의도된 사용에 반하는 방법으로 API를 사용하거나, 보안에 취약한 API를 사용하여 발생할 수
    있는 보안약점 -* DNS Lookup에 의존한 보안결정, 널 매개변수 미조사 등 7개
```



[참고]

https://devuna.tistory.com/26