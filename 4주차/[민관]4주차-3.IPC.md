### IPC란?

- Inter Process Communication의 약자, 프로세스간 통신

![4](https://user-images.githubusercontent.com/44665707/149257000-9cf56e5e-80cc-4aba-91d8-1f10adc60c3a.PNG)

- 프로세스는 완전히 독립된 객체로써 다른 프로세스의 영향 받지 않음
- 그렇기에 서로간 통신이 어려워 커널 영역에서 IPC라는 내부 프로세스간 통신을 제공



### IPC 설비들

- 상황에 맞는 IPC의 선택은 멀티 프로세스 프로그램에서 중요



1. PIPE

![image](https://user-images.githubusercontent.com/44665707/149257158-960469bd-4198-4dfd-a861-5cf34b041d80.png)

- 익명의 PIPE를 통해 동일한 부모 프로세스를 가진 프로세스들 간에 단방향 통신 지원
- FIFO 구조이며 생성된 PIPE에 대하여 Write 또는 Read 만 가능
- 부모-자식 프로세스간 통신할 때 사용

- 쌍방 통신 위해서는 Write용 PIPE하나, Read PIPE 하나를 따로 만들어야 함



2. Named PIPE

![6](https://user-images.githubusercontent.com/44665707/149257399-898c474e-76f0-4342-8b0a-db430e1e71e5.PNG)

- 이름을 가진 PIPE 통해서 프로세스들 간 단방향 통신 지원, 서로 다른 프로세스들이 PIPE 이름만 알면 통신 가능

- 익명의 PIPE와 마찬가지로 FIFO 구조, 생성된 PIPE에 대하여 Write 또는 Read만 가능



3. Message Queue

![7](https://user-images.githubusercontent.com/44665707/149257560-8a6ac721-4992-489c-aaae-877ae4ef8a51.PNG)

- 컨베이어 벨트와 유사, 큐에 쓸 데이터에 번호를 붙여 여러 개의 프로세스가 동시에 데이터를 쉽게 다룸
- 커널에서 관리하며 메모리를 사용한 PIPE, 구조체 기반으로 통신
- FIFO구조
- 프로세스간 다양한 통신을 할 때 사용 가능



4. Shared Memory

![8](https://user-images.githubusercontent.com/44665707/149257703-08bc5421-e545-4e82-9d90-1b3a61915b48.PNG)

- 공유메모리가 데이터 자체를 공유하도록 지원하는 설비
- 프로세스가 공유 메모리 할당을 커널에 요청, 해당 프로세스에 메모리 공간을 커널에서 할당
- 곧바로 메모리 접근 가능하기에 모든 IPC 중에서 가장 빠르게 작동할 수 있음



5. Memory Map

![9](https://user-images.githubusercontent.com/44665707/149257858-6a065b77-cd34-4ecf-9d02-62d9f640ae14.PNG)

- 메모리를 공유한다는 측면에서는 Shared Memory와 비슷

- 차이점은 Memory Map은 열린파일을 메모리에 맵핑시켜서 공유
- 프로세스의 가상 메모리 주소 공간에 파일을 매핑한 뒤 가상 메모리 주소에 직접 접근
- 페이지 크기에 따라 적절히 파일의 내용을 읽고 쓰기 가능
- 대용량 데이터 공유할 때 사용



6. Socket

![10](https://user-images.githubusercontent.com/44665707/149258180-510718fa-02df-487f-8c58-b915b38ee281.PNG)

- 같은 도메인 내에서 연결될 수 있고 프로세스들 사이 통신 가능케 함
- 서버단에서 bind, listen, accept 를 진행해 소켓 연결 준비
- 클라이언트 단에서 connect를 통해 서버에 요청하고 연결이 수립된 후 socket에 send해 데이터 주고 받음
- 연결 종료 후 반드시 socket을 close 할 것
- 범용적인 IPC로 양방향 통신 가능, 패킷 단위로 주고 받아 직관적으로 이해하기 쉬운 코드



