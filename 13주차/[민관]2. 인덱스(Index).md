## 인덱스란?

![image](https://user-images.githubusercontent.com/44665707/159851076-25c1eecf-80b7-43dd-bee1-a3609fba0f0c.png)

- 데이터베이스 테이블에 대한 검색 동작 속도를 높여주는 자료 구조
- 컬럼의 값과 해당 레코드가 저장된 주소를 키와 값의 쌍으로 인덱스 구성

- 장점
  1. 키 값을 통해 테이블에서 검색과 정렬 속도 향상시킴
  2. 전반적으로 시스템의 부하 낮출 수 있음
- 단점
  1. 인덱스를 생성하는데 시간 많이 소요됨
  2. 데이터 변경이 자주 발생할 경우 추가적인 인덱스 관리 필요
  3. 인덱스를 관리하기 위해 데이터베이스에 약 10% 정도의 저장공간 필요



## 인덱스 성능과 고려할 사항

- 인덱스를 생성하게 되면 INSERT, DELETE, UPDATE 쿼리문 실행할 때 별도의 과정이 추가적으로 발생해 성능 저하 발생

- 데이터의 형식에 따라서도 성능에 관련된 이슈가 발생할 수 있음

- 따라서 인덱스는 다음과 같은 상황에서 사용하면 좋음

  1. 규모가 작지 않은 테이블
  2. INSERT, UPDATE, DELETE가 자주 발생하지 않는 칼럼
  3. JOIN이나 WHERE 또는 ORDER BY에 자주 사용되는 칼럼
  4. 데이터의 중복도가 낮은 칼럼

  

## 인덱스 자료구조

1. Hash 테이블 인덱스

![image](https://user-images.githubusercontent.com/44665707/159852032-390c8b8d-1419-45f0-a71b-2015b62830f6.png)

- 칼럼의 값으로 해시 값을 계산해 인덱싱하는 알고리즘으로 매우 빠른 검색 지원
- 주로 메모리 기반의 데이터베이스에서 많이 사용

2. B+-Tree 인덱스

- DB의 인덱스를 위해 자식 노드가 2개 이상인 B-Tree를 개선시킨 자료구조
- 리프 노드만 인덱스와 함께 데이터를 갖고 있고, 나머지 노드들은 데이터를 위한 인덱스만 갖음
- 리프 노드들은 연결 리스트로 연결되어 있음
- 데이터 노드 크기는 인덱스 노드의 크기와 같지 않아도 됨



- hash 테이블 방식은 O(1), B+-Tree 방식은 O(logn)의 시간 복잡도를 가지지만 일반적으로 데이터베이스에서는 B+-Tree방식 사용. 해시 함수는 등호연산에만 특화됐기 때문에 부등호 연산이 자주 사용되는 데이터베이스 검색을 위해서는 해시 테이블은 적합하지 않음